{"ast":null,"code":"var _jsxFileName = \"D:\\\\CSE_folder\\\\CSW303_softwareEngineering\\\\Project-CSW-303\\\\Project-CSW-303\\\\expense-tracker\\\\client\\\\src\\\\components\\\\Dashboard.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport axios from 'axios';\nimport ExpenseForm from './AddExpense';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Dashboard() {\n  _s();\n  const [expenses, setExpenses] = useState([]);\n  const navigate = useNavigate();\n  useEffect(() => {\n    const fetchExpenses = async () => {\n      try {\n        const token = localStorage.getItem('token');\n        const response = await axios.get('http://localhost:5000/api/expenses', {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        setExpenses(response.data);\n      } catch (err) {\n        navigate('/');\n      }\n    };\n    fetchExpenses();\n  }, [navigate]);\n  const handleAddExpense = newExpense => {\n    setExpenses([...expenses, newExpense]);\n  };\n  const handleDelete = async id => {\n    try {\n      const token = localStorage.getItem('token');\n      await axios.delete(`http://localhost:5000/api/expenses/${id}`, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      setExpenses(expenses.filter(expense => expense.id !== id));\n    } catch (err) {\n      console.error(err);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-100 p-6\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-4xl mx-auto\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-3xl font-bold mb-6 text-center\",\n        children: \"Expense Tracker\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(ExpenseForm, {\n        onAddExpense: handleAddExpense\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-xl font-semibold mb-4\",\n          children: \"Expenses\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 21\n        }, this), expenses.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"No expenses yet.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 25\n        }, this) : /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"space-y-4\",\n          children: expenses.map(expense => /*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"bg-white p-4 rounded shadow flex justify-between\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Amount:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 55,\n                  columnNumber: 44\n                }, this), \" $\", expense.amount]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 55,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Description:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 56,\n                  columnNumber: 44\n                }, this), \" \", expense.description]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 56,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Date:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 57,\n                  columnNumber: 44\n                }, this), \" \", new Date(expense.date).toLocaleDateString()]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 57,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 54,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleDelete(expense.id),\n              className: \"bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600\",\n              children: \"Delete\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 37\n            }, this)]\n          }, expense.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 33\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 9\n  }, this);\n}\n_s(Dashboard, \"b9DCjQNW2xZdsRWCk/L36upWfdE=\", false, function () {\n  return [useNavigate];\n});\n_c = Dashboard;\nexport default Dashboard;\nvar _c;\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","axios","ExpenseForm","jsxDEV","_jsxDEV","Dashboard","_s","expenses","setExpenses","navigate","fetchExpenses","token","localStorage","getItem","response","get","headers","Authorization","data","err","handleAddExpense","newExpense","handleDelete","id","delete","filter","expense","console","error","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onAddExpense","length","map","amount","description","Date","date","toLocaleDateString","onClick","_c","$RefreshReg$"],"sources":["D:/CSE_folder/CSW303_softwareEngineering/Project-CSW-303/Project-CSW-303/expense-tracker/client/src/components/Dashboard.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport axios from 'axios';\nimport ExpenseForm from './AddExpense';\n\nfunction Dashboard() {\n    const [expenses, setExpenses] = useState([]);\n    const navigate = useNavigate();\n\n    useEffect(() => {\n        const fetchExpenses = async () => {\n            try {\n                const token = localStorage.getItem('token');\n                const response = await axios.get('http://localhost:5000/api/expenses', {\n                    headers: { Authorization: `Bearer ${token}` }\n                });\n                setExpenses(response.data);\n            } catch (err) {\n                navigate('/');\n            }\n        };\n        fetchExpenses();\n    }, [navigate]);\n\n    const handleAddExpense = (newExpense) => {\n        setExpenses([...expenses, newExpense]);\n    };\n\n    const handleDelete = async (id) => {\n        try {\n            const token = localStorage.getItem('token');\n            await axios.delete(`http://localhost:5000/api/expenses/${id}`, {\n                headers: { Authorization: `Bearer ${token}` }\n            });\n            setExpenses(expenses.filter(expense => expense.id !== id));\n        } catch (err) {\n            console.error(err);\n        }\n    };\n\n    return (\n        <div className=\"min-h-screen bg-gray-100 p-6\">\n            <div className=\"max-w-4xl mx-auto\">\n                <h1 className=\"text-3xl font-bold mb-6 text-center\">Expense Tracker</h1>\n                <ExpenseForm onAddExpense={handleAddExpense} />\n                <div className=\"mt-6\">\n                    <h2 className=\"text-xl font-semibold mb-4\">Expenses</h2>\n                    {expenses.length === 0 ? (\n                        <p>No expenses yet.</p>\n                    ) : (\n                        <ul className=\"space-y-4\">\n                            {expenses.map(expense => (\n                                <li key={expense.id} className=\"bg-white p-4 rounded shadow flex justify-between\">\n                                    <div>\n                                        <p><strong>Amount:</strong> ${expense.amount}</p>\n                                        <p><strong>Description:</strong> {expense.description}</p>\n                                        <p><strong>Date:</strong> {new Date(expense.date).toLocaleDateString()}</p>\n                                    </div>\n                                    <button\n                                        onClick={() => handleDelete(expense.id)}\n                                        className=\"bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600\"\n                                    >\n                                        Delete\n                                    </button>\n                                </li>\n                            ))}\n                        </ul>\n                    )}\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default Dashboard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}